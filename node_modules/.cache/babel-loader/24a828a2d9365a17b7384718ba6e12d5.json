{"ast":null,"code":"import React from \"react\";\nvar insideRender = false;\nvar forceUpdateQueue = [];\nexport function useQueuedForceUpdate(forceUpdate) {\n  return function () {\n    if (insideRender) {\n      forceUpdateQueue.push(forceUpdate);\n    } else {\n      forceUpdate();\n    }\n  };\n}\nexport function useQueuedForceUpdateBlock(callback) {\n  // start intercepting force-update calls\n  insideRender = true;\n  forceUpdateQueue = [];\n\n  try {\n    var result = callback(); // stop intercepting force-update\n\n    insideRender = false; // store queue or nothing if it was empty to execute useLayoutEffect only when necessary\n\n    var queue_1 = forceUpdateQueue.length > 0 ? forceUpdateQueue : undefined; // run force-update queue in useLayoutEffect\n\n    React.useLayoutEffect(function () {\n      if (queue_1) {\n        queue_1.forEach(function (x) {\n          return x();\n        });\n      }\n    }, [queue_1]);\n    return result;\n  } finally {\n    insideRender = false;\n  }\n}","map":{"version":3,"sources":["/Users/awang/Downloads/react/key/keyCode/node_modules/mobx-react-lite/es/useQueuedForceUpdate.js"],"names":["React","insideRender","forceUpdateQueue","useQueuedForceUpdate","forceUpdate","push","useQueuedForceUpdateBlock","callback","result","queue_1","length","undefined","useLayoutEffect","forEach","x"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAIC,YAAY,GAAG,KAAnB;AACA,IAAIC,gBAAgB,GAAG,EAAvB;AACA,OAAO,SAASC,oBAAT,CAA8BC,WAA9B,EAA2C;AAC9C,SAAO,YAAY;AACf,QAAIH,YAAJ,EAAkB;AACdC,MAAAA,gBAAgB,CAACG,IAAjB,CAAsBD,WAAtB;AACH,KAFD,MAGK;AACDA,MAAAA,WAAW;AACd;AACJ,GAPD;AAQH;AACD,OAAO,SAASE,yBAAT,CAAmCC,QAAnC,EAA6C;AAChD;AACAN,EAAAA,YAAY,GAAG,IAAf;AACAC,EAAAA,gBAAgB,GAAG,EAAnB;;AACA,MAAI;AACA,QAAIM,MAAM,GAAGD,QAAQ,EAArB,CADA,CAEA;;AACAN,IAAAA,YAAY,GAAG,KAAf,CAHA,CAIA;;AACA,QAAIQ,OAAO,GAAGP,gBAAgB,CAACQ,MAAjB,GAA0B,CAA1B,GAA8BR,gBAA9B,GAAiDS,SAA/D,CALA,CAMA;;AACAX,IAAAA,KAAK,CAACY,eAAN,CAAsB,YAAY;AAC9B,UAAIH,OAAJ,EAAa;AACTA,QAAAA,OAAO,CAACI,OAAR,CAAgB,UAAUC,CAAV,EAAa;AAAE,iBAAOA,CAAC,EAAR;AAAa,SAA5C;AACH;AACJ,KAJD,EAIG,CAACL,OAAD,CAJH;AAKA,WAAOD,MAAP;AACH,GAbD,SAcQ;AACJP,IAAAA,YAAY,GAAG,KAAf;AACH;AACJ","sourcesContent":["import React from \"react\";\nvar insideRender = false;\nvar forceUpdateQueue = [];\nexport function useQueuedForceUpdate(forceUpdate) {\n    return function () {\n        if (insideRender) {\n            forceUpdateQueue.push(forceUpdate);\n        }\n        else {\n            forceUpdate();\n        }\n    };\n}\nexport function useQueuedForceUpdateBlock(callback) {\n    // start intercepting force-update calls\n    insideRender = true;\n    forceUpdateQueue = [];\n    try {\n        var result = callback();\n        // stop intercepting force-update\n        insideRender = false;\n        // store queue or nothing if it was empty to execute useLayoutEffect only when necessary\n        var queue_1 = forceUpdateQueue.length > 0 ? forceUpdateQueue : undefined;\n        // run force-update queue in useLayoutEffect\n        React.useLayoutEffect(function () {\n            if (queue_1) {\n                queue_1.forEach(function (x) { return x(); });\n            }\n        }, [queue_1]);\n        return result;\n    }\n    finally {\n        insideRender = false;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}